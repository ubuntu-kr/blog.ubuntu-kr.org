<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="apple-touch-icon" sizes="180x180" href='/img/favicon/apple-touch-icon.png'>
    <link rel="icon" type="image/png" sizes="32x32" href='/img/favicon/favicon-32x32.png'>
    <link rel="icon" type="image/png" sizes="16x16" href='/img/favicon/favicon-16x16.png'>
    <title>Ubuntu Frame 처음 만나보기 | 우분투한국커뮤니티 블로그</title>
    
    <meta property="og:site_name" content="우분투한국커뮤니티 블로그" />
    <meta property="og:title" content="Ubuntu Frame 처음 만나보기" />

    
    <meta property="og:image" content='https://blog.ubuntu-kr.org/2023/02/07/ubuntuframe-recap/ubuntu-frame-logo.png' />
    <meta property="og:image:secure_url" content='https://blog.ubuntu-kr.org/2023/02/07/ubuntuframe-recap/ubuntu-frame-logo.png' />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content='https://blog.ubuntu-kr.org/2023/02/07/ubuntuframe-recap/ubuntu-frame-logo.png' />

    
    <link rel="stylesheet" href="https://blog.ubuntu-kr.org/sass/theme.min.f7730c1d6ba67d8d327e32c5d2be5258988132122b111361feba8dd214ecca19.css">
</head><body><header id="navigation" class="p-navigation is-dark">
  <div class="p-navigation__row">
    <div class="p-navigation__banner">
      <div class="p-navigation__tagged-logo" style="min-width: 6rem;">
        <a class="p-navigation__link" href="/">
          <div class="p-navigation__logo-tag">
            <img class="p-navigation__logo-icon" src="/img/UbuntuKrCircleWhite.svg" alt="">
          </div>
          <span class="p-navigation__logo-title">블로그</span>
        </a>
      </div>
      <a href="#navigation" class="p-navigation__toggle--open" title="menu">Menu</a>
      <a href="#navigation-closed" class="p-navigation__toggle--close" title="close menu">Close menu</a>
    </div>
    <nav class="p-navigation__nav" aria-label="Example sub navigation">
      <ul class="p-navigation__items">
        
          
          <li class="p-navigation__item">
            <a class="p-navigation__link" href="/tags">태그</a>
          </li>
          
        
          
          <li class="p-navigation__item">
            <a class="p-navigation__link" href="/index.xml">구독(RSS)</a>
          </li>
          
        
          
          <li class="p-navigation__item">
            <a class="p-navigation__link" href="/contribute">블로그에 기고하기</a>
          </li>
          
        
      </ul>
     
     <ul class="p-navigation__items">
        <li class="p-navigation__item--dropdown-toggle" id="link-4">
          <a class="p-navigation__link" aria-controls="account-menu">
            🌏
          </a>
          <ul class="p-navigation__dropdown--right" id="account-menu" aria-hidden="true">
            
            
            <li>
              <a href="https://blog.ubuntu-kr.org/2023/02/07/ubuntuframe-recap/" class="p-navigation__dropdown-item">📄 한국어</a>
            </li>
            
            
            <li>
              <a href="https://blog.ubuntu-kr.org/" class="p-navigation__dropdown-item">🏠 한국어</a>
            </li>
            
            <li>
              <a href="https://blog.ubuntu-kr.org/en/" class="p-navigation__dropdown-item">🏠 English</a>
            </li>
            
            
          </ul>
        </li>
        <li class="p-navigation__item--dropdown-toggle" id="link-4">
          <a class="p-navigation__link" aria-controls="account-menu">
            🔗
          </a>
          <ul class="p-navigation__dropdown--right" id="account-menu" aria-hidden="true">
            
            <li>
              <a href="https://ubuntu-kr.org" class="p-navigation__dropdown-item">홈페이지</a>
            </li>
            
            <li>
              <a href="https://forum.ubuntu-kr.org" class="p-navigation__dropdown-item">포럼</a>
            </li>
            
            <li>
              <a href="https://wiki.ubuntu-kr.org" class="p-navigation__dropdown-item">위키</a>
            </li>
            
            <li>
              <a href="https://ubuntu-kr.github.io/workshops/" class="p-navigation__dropdown-item">튜토리얼</a>
            </li>
            
            <li>
              <a href="https://event.ubuntu-kr.org" class="p-navigation__dropdown-item">행사</a>
            </li>
            
            <li>
              <a href="https://ask.ubuntu-kr.org" class="p-navigation__dropdown-item">Ask Ubuntu KR</a>
            </li>
            
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>
<div id="content">


<main>
  <section class="p-strip--image main-strip"
    }
    style="background-image:url('ubuntu-frame-logo.png'); background-position: center; background-repeat: no-repeat; background-size: cover;"
    >
      <div class="row">
        
        <div class="col-6">
          <div class="p-card--overlay">
            <h2>Ubuntu Frame 처음 만나보기</h2>
            <ul class="p-card__content p-inline-list--middot">
              
              <li class="p-inline-list__item">
                김광연
              </li>
              
            </ul>
            <p><u class=" timedisplay" style="text-decoration-style: dotted;">2023-02-07T12:31:04&#43;09:00</u></p>
            <p class="p-card__content"></p>
            
            <a href="/tags/ubucon" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">ubucon</span>
              </div>
            </a>
            
            <a href="/tags/iot" class="tag">
              <div class="p-chip">
                <span class="p-chip__value">iot</span>
              </div>
            </a>
            
          </div>
        </div>
        
      </div>
  </section>
  <section class="p-strip">
  <div class="row">
  <h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#%EC%84%9C%EB%A1%A0">서론</a></li>
<li><a href="#%EC%9A%B0%EB%B6%84%ED%88%AC-core--frame">우분투 Core &amp; Frame</a>
<ol>
<li><a href="#1-ubuntu-frame%EC%9D%B4%EB%9E%80">Ubuntu Frame이란?</a></li>
<li><a href="#2-ubuntu-core-%EC%86%8C%EA%B0%9C">Ubuntu Core 소개</a></li>
<li><a href="#3-ubuntu-frame-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0">Ubuntu Frame 살펴보기</a></li>
</ol>
</li>
<li><a href="#%EC%9A%94%EC%95%BD-%EB%B0%8F-%EA%B2%B0%EB%A1%A0">요약 및 결론</a></li>
</ol>
<h2 id="서론">서론</h2>
<p>수년 전인가 부터 임베디드와 IoT가 4차 산업혁명이라는 말로 강조 되기 시작했습니다. 사실 임베디드 시스템은 훨씬 예전 부터 우리 생활에 밀접하게 자리 잡아 있었지만 딥러닝의 등장으로 전에 불가능했던 수많은 앱들이 앞으로 실현 가능할 것이라 보고 앞으로는 edge 기기들 증가하고 통신의 중요성이 화두가 될 것이라 보는 것이죠. 그러나 이런 전망에도 불구하고 저는 임베디드의 기반 시스템 개발 부분은 앱 개발 만큼 논의가 활발히 이루어 지지 않는다고 느낍니다.
아직도 맞춤형 OS는 유지보수, 개발 난이도 등의 문제들을 합리적으로 다루기 어려워서 데스크톱용 OS에 GUI 앱을 올리는 형태로 많이 개발 되고 있는 행태입니다.
<img src="./signage_error.jpeg" alt="Signage 장애 이미지"></p>
<p>이와 관련해 조사해서 2022년도 Ubucon Asia에서 발표했던 Ubuntu Frame에 대한 워크숍 내용을 이 글에 정리하려 합니다.
필요에 따라 <a href="https://docs.google.com/presentation/d/1scBM6nhjr_amlooKgobwNzKSSdhIdW7i4rp9tW1bfQE/edit?usp=sharing">워크숍 슬라이드 파일</a>을 통해 요약된 내용을 확인하기 바랍니다.</p>
<h2 id="우분투-core--frame">우분투 Core &amp; Frame</h2>
<h3 id="1-ubuntu-frame이란">1. Ubuntu Frame이란?</h3>
<p>Ubuntu Frame은 GUI 임베디드 및 IoT 시스템 개발을 위해 작년 10월 경에 출시 된 Canonical 사의 제품으로 Ubuntu Core와 함께 임베디드 개발에 활용 될 수 있습니다.
공식 설명을 보면 Ubuntu Frame을 다음과 같이 설명 되고 있습니다.</p>
<blockquote>
<p>The foundation for many embedded graphical display implementations. <code>ubuntu-frame</code> is a simple fullscreen shell (based on Wayland) used for kiosks, industrial displays, digital signage, smart mirrors, etc.</p>
</blockquote>
<p>즉, 아래 그림과 같은 단순히 회색 화면만 있는 창이 디스플레이를 점유하는 환경을 제공하는 것입니다.
<img src="./ubuntu-frame-simulator.jpeg" alt="Ubuntu Frame Screen Simulator"></p>
<p>Ubuntu Frame은 이와 같이 GUI 앱이 전체 화면을 점유할 수 있는 단순한 Shell을 제공하며 마우스, 키보드, 터치스크린 등의 다양한 I/O도 가능합니다. 또한, Ubuntu Frame은 Ubuntu Core 위에서 실행되는 것이 권장되지만 일반 리눅스 배포판에서도 실행이 가능합니다.</p>
<p>그런데 이런 기본적인 GUI 환경이 왜 제공되는지에 대한 등장 배경과 Ubuntu Frame의 구조를 이해하기 위해서 Ubuntu Core에 대해 설명하겠습니다.</p>
<h3 id="2-ubuntu-core-소개">2. Ubuntu Core 소개</h3>
<p>우선 소개에 앞서 우리가 임베디드 개발에서 커스텀 리눅스 이미지가 필요하게 되는 이유와 이것이 실제로 어려운 이유를 짚어보겠습니다.</p>
<p>임베디드 시스템에서는 다양한 작업을 해야하는 PC와 달리 정해진 작업들을 안정적으로 수행하는 것이 중요합니다. 반면, 컴퓨터 시스템에서 더 많은 기능들은 더 많은 결함 발생 가능성을 의미하기 때문에 안정성과 하드웨어 비용을 위해서 리눅스 이미지 맞춤 제작이 임베디드에서는 화두되고 있습니다. 그러나 리눅스 맞춤 제작은 실제로는 굉장히 어려운 문제입니다. 리눅스를 스스로 개발한다는 것은 리눅스 배포판이 관리해주던 커널 컴파일, 디바이스 드라이버, 설치 등을 개발자가 Root File System을 생성 할 때 스스로 고려를 해야 한다는 것을 의미하고 더욱이 시스템이 GUI를 사용해야 한다면 디스플레이 서버 프로토콜을 고려해야하는 등 문제가 복잡합니다. 그리고 개발을 하고 배포했을 때에도 시스템 배포 후 원격 접속, 업데이트, 모니터링 등의 유지보수가 어려워지는 문제 또한 생기게 됩니다.</p>
<p><img src="./ubuntu-core.png" alt="Ubuntu Core Logo">
여기에서 <a href="https://ubuntu.com/core">Ubuntu Core</a>가 등장하게 됩니다. Ubuntu Core는 임베디드 시스템을 위해서 리눅스 이미지를 맞춤 제작을 하기 보다는 리눅스 배포판의 장점을 적용해 개발과 관리를 용이하게 하겠다는 접근입니다.
일단 Ubuntu Core는 임베디드를 위한 리눅스 배포판입니다. Ubuntu Core는 보안과 유지보수를 강화했고 OS 이미지 또한 임베디드에 맞게 260MB 정도로 초 경량화 됐습니다. 또한, 패키지를 전부 snap으로 관리해서 보안성과 의존성 문제를 향상했고 <a href="https://snapcraft.io/store">Snap Store</a>가 사용 가능해서 배포/재배포가 용이합니다.</p>
<p>반면 Ubuntu Core에서는 특이하게 보통 Ubuntu와 다르게 패키지 관리자가 Snap만 이용 가능하고 APT는 사용할 수 없습니다. 이는 Snap을 이용해서 보안을 향상하기 위해서 인데 Snap은 차세대 패키지 관리자로 아래 그림과 같은 격리된 앱 실행 환경을 제공해서 보안와 의존성 문제를 향상 시킵니다.
<img src="./ubuntu-core-confinement.png" alt="App Execution in Ubuntu Core"></p>
<p>Snap의 이런 격리된 앱 실행 환경을 <a href="https://snapcraft.io/docs/snap-confinement">Snap Confinement</a>라고 부르는데 도커와 비슷하게 snap에서는 앱이 격리된 상태로 패키징 되서 배포 됩니다. 이런 격리 환경은 기존에 앱들이 시스템 자원들을 권한만 갖고 있으면 무제한으로 사용 가능했던 것과 구분되게 Snap 앱들은 각 패키지 간에 <a href="https://snapcraft.io/docs/interface-management">Interface</a>라는 형태로 사전에 서로 합의된 자원에만 접근할 수 있습니다. 이런 snap의 자원 추상화인 Interface에는 아래 그림과 같이 두 가지 단위가 있습니다.</p>
<p><img src="./snap-interface.png" alt="Snap Interface">
바로 Slot과 Plug입니다.
그림에 나와 있듯 slot은 자원 제공 단위, plug는 자원 소비 단위입니다. 이를 우리가 살펴볼 Ubuntu Frame을 기준으로 생각해보면 우선 ubuntu-frame은 snap 패키지로 제공이 됩니다. 이때 ubuntu-frame 앱은 사실 Wayland compositor로서 GUI 앱을 서비스 할 수 있는 디스플레이 서버인데, 앱이 통신할 수 있는 Wayland socket은 해당 패키지의 slot으로서 제공이 됩니다. 반면 우리가 임베디드 시스템에서 사용할 GUI 앱은 Snap 패키지로 배포 돼서 plug가 되는 것이죠.</p>
<h3 id="3-ubuntu-frame-살펴보기">3. Ubuntu Frame 살펴보기</h3>
<p>이제 우리는 Ubuntu Frame의 등장 배경과 구조를 이해할 수 있습니다. RootFS의 최소화, 보안성, 유지보수 용이성 등을 위해서 임베디드 특화 리눅스인 우분투 Core가 등장했고, 이런 장점을 유지할 수 있는 최소 GUI Shell인 Ubuntu Frame이 이에 맞추어 출시됐습니다. Snap 패키지만 사용 가능한 Ubuntu Core의 환경에 맞게 Ubuntu Frame은 Snap 패키지로 Wayland Socket을 slot으로 제공하고 사용자 배포 앱은 여기에 plug로 붙어서 서비스 될 수 있습니다. 즉, Ubuntu Frame은 Wayland 프로토콜을 지원하는 다양한 GUI 앱들을 지원해서 GTK+, QT, Flutter, HTML5 등의 다양한 툴킷으로 앱을 가능하게 합니다. 또한 X.org 프로토콜을 지원하는 기존 앱들도 경량 X 서버를 포함하는 것으로 지원할 수 있습니다.
또한 snap store를 이용해서 임베디등의 어려운 문제인 배포/재배포를 용이하게 합니다.</p>
<p>Ubuntu Frame은 다음 3가지 설정 옵션을 제공합니다. <code>snap set</code> 명령어로 설정 가능합니다.</p>
<ul>
<li>
<p><code>daemon=[true|false]</code></p>
<ul>
<li>daemon을 활성화 합니다.</li>
<li><code>true</code>로 설정되면 Ubuntu Frame이 스크린 전체를 점유하게 되고 deployment에 필요합니다. 데스크톱 리눅스에서는 기본 <code>false</code>로 설정 되어있고 이는 <code>ubuntu-frame</code>을 실행할 때 스크린 시뮬레이터를 실행하게 합니다.</li>
</ul>
</li>
<li>
<p><code>config=&lt;options for the shell&gt;</code></p>
<ul>
<li>위 옵션으로 <code>ubuntu-frame</code>의 설정 파일을 수정할 수 있습니다.</li>
<li>바탕화면, 돌리기, 그라데이션 등의 다양한 옵션을 설정합니다.</li>
</ul>
</li>
<li>
<p><code>display=&lt;options for the shell&gt;</code></p>
<ul>
<li>장치를 설정할 수 있는 옵션입니다.</li>
<li>그래픽 카드나 시스템 출력 등의 하드웨어 정보를 다룰 수 있습니다.</li>
<li><code>frame.display</code> 파일에서 설정을 위한 템플릿을 확인 할 수 있습니다.</li>
</ul>
</li>
</ul>
<h2 id="요약-및-결론">요약 및 결론</h2>
<p><img src="./ubuntu-frame-summary.png" alt="ubuntu-frame-summary">
위 그림은 Wayland 프로토콜 메시지 교환 구조에 제 Ubuntu Frame 설명을 추가한 것입니다.
그림에 빗대어 밑에서 부터 앞선 설명을 회고하고 정리하겠습니다.</p>
<ol>
<li>가장 밑 부분은 커널 부분입니다. 리눅스 커널을 통해서 여러 디바이스 드라이버 등과 결합되서 추상화된 프로그래밍 환경이 제공되고 이런 커널 부분을 편리하게 관리하는 것이 리눅스 배포판의 역할 중 하나입니다. 너무 많은 기능이 존재하는 데스크톱 리눅스 대신에 Ubuntu Core를 통해서 기능 최소화, 보안 향상, 쉬운 디바이스 드라이버 설치/관리가 가능합니다.</li>
<li>그러나 GUI 시스템에는 커널 말고도 디스플레이 서버를 관리해야할 필요가 생깁니다. 이는 디스플레이 서버 프로토콜과 추가적인 패키지 관리 등의 어려움이 생기기 때문에 Ubuntu Frame이 Wayland Compositor를 제공해서 이를 위한 의미있는 추상화를 제공합니다.</li>
<li>마지막으로 프로그래머는 Wayland 앱을 작성해서 Snap으로 배포해 <code>ubuntu-frame</code>에 붙어서 wayland client로 서비스 되게 됩니다.</li>
</ol>
<p>분량 조절을 위해서 이 글에선 Ubuntu Frame에 대한 개념 설명을 끝으로 마치고 <a href="https://blog.ubuntu-kr.org/2023/02/22/ubuntuframe-recap-exercise/">다음 글</a>에서 실습을 해보겠습니다.</p>

  </div>
  </section>
  <section class="p-strip--light">
    <div class="row">
      
      <div class="col-12">
        <div class="p-media-object">
          <img src="profile.jpg" class="p-media-object__image is-round" alt="">
          <div class="p-media-object__details">
            <h3 class="p-media-object__title">
              <a href="#">김광연</a>
            </h3>
            <p class="p-media-object__content">Ubuntu Korea Community</p>
            <ul class="p-inline-list--middot">
              <li class="p-inline-list__item"><a href="mailto:ghemool123@gmail.com">Email</a></li>
              <li class="p-inline-list__item"><a href="https://launchpad.net/~horary">Launchpad</a></li>
              <li class="p-inline-list__item"><a href="https://github.com/onting">GitHub</a></li>
            </ul>
          </div>
        </div>
      
      <div class="col-12">
        <div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_config = function () {
    this.page.url = "https://blog.ubuntu-kr.org/2023/02/07/ubuntuframe-recap/";  
    this.page.identifier = "/2023/02/07/ubuntuframe-recap.html"; 
};
(function() {
    
    
    if (window.location.hostname == "localhost")
        return;
    
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'ubuntu-kr-blog';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
   
    </div>
  </section>
  <section class="p-strip">
    <div class="row">
      <footer class="p-article-pagination">
        
        <a class="p-article-pagination__link--previous" href="/2022/11/11/ubucon-asia-2022/">
          <span class="p-article-pagination__label">이전</span>
          <span class="p-article-pagination__title">11월 말, 서울에서 열리는 UbuCon Asia 에 참석하세요!</span>
        </a>
        
        
        <a class="p-article-pagination__link--next" href="/2023/02/22/ubuntuframe-recap-exercise/">
          <span class="p-article-pagination__label">다음</span>
          <span class="p-article-pagination__title">Ubuntu Frame 처음 만나보기(실습)</span>
        </a>
        
      </footer>
    </div>
  </section>
</main>

        </div><section class="p-strip--accent">
  <div class="row">
    <div class="col-12">
      <h2>우분투한국커뮤니티 블로그</h2>
      <ul class="p-inline-list--middot is-dark">
        <li class="p-inline-list__item">
          <a href="mailto:contact@ubuntu-kr.org">운영진과 연락하기(이메일)</a>
        </li>
        <li class="p-inline-list__item">
          <a href="https://fb.com/ubuntukorea">Facebook</a>
        </li>
        <li class="p-inline-list__item">
          <a href="https://twitter.com/UbuntuKrOrg">Twitter</a>
        </li>
        <li class="p-inline-list__item">
          <a href="https://www.youtube.com/user/UbuntuKorea">YouTube</a>
        </li>
        <li class="p-inline-list__item">
          <a href="https://github.com/ubuntu-kr">GitHub</a>
        </li>
        <li class="p-inline-list__item">
          <a href="https://launchpad.net/~ubuntu-ko">Launchpad</a>
        </li>
      </ul>
      <p>© 2021 우분투 한국 커뮤니티 (우분투 한국 로컬 커뮤니티 팀). 별도 고지가 있는 경우를 제외하고, 웹 사이트 소스코드는 MIT, 웹 사이트의 컨텐츠는 CC BY-SA 4.0 라이선스로 이용 가능합니다. Ubuntu 및 Canonical 은 Canonical Ltd. 의 등록 상표입니다.</p>
      <a href="https://github.com/ubuntu-kr/blog.ubuntu-kr.org">GitHub에서 소스코드 보기</a>
    </div>
  </div><script type="text/javascript" src='/js/ubuntukr.js'></script>
<script type="text/javascript" src='/js/timedisplay.js'></script>
<script>

let slides = document.getElementsByClassName("main-slide");
let index = 0;
let count = slides.length;
function setSlideIndex(destination) {
    index = destination % count;
    index = index < 0 ? index * -1 : index;
    for (let i = 0; i < count; i++) {
        if(i == index) {
            slides[i].style.display = "block";
        } else {
            slides[i].style.display = "none";
        }
    }
}
function nextSlide() {
    setSlideIndex(index + 1);
}
function prevSlide() {
    setSlideIndex(index - 1);
}
setSlideIndex(0);
setInterval(nextSlide, 5000);
</script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-65961752-8', 'auto');
	
	ga('send', 'pageview');
}
</script></body>
</html>
